<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Painel dos Noivos - Steffany & Walci</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container admin-container">
        <header class="header">
            <a href="index.html" class="back-link"><i class="fa-solid fa-arrow-left"></i>Voltar</a>
            <h1>Painel dos Noivos</h1>
        </header>

        <section class="dashboard-section">
            <div class="stat-card">
                <h4>Convidados Confirmados</h4>
                <p id="statConvidados">0</p>
            </div>
            <div class="stat-card">
                <h4>Presentes Físicos Ganhos</h4>
                <p id="statPresentes">0</p>
            </div>
            <div class="stat-card">
                <h4>Contribuições Recebidas</h4>
                <p id="statQtdDoacoes">0</p>
            </div>
            <div class="stat-card">
                <h4>Valor Total Arrecadado</h4>
                <p>R$ <span id="statValorDoacoes">0,00</span></p>
            </div>
        </section>

        <div class="admin-grid">
            <section class="admin-card">
                <h3><i class="fa-solid fa-pencil"></i>Mensagem para Convidados</h3>
                <form id="messageForm">
                    <textarea id="guestMessageText" rows="4" placeholder="Escreva aqui uma mensagem de boas-vindas..."></textarea>
                    <button type="submit" class="btn">Salvar Mensagem</button>
                </form>
            </section>

            <section class="admin-card">
                <h3><i class="fa-solid fa-camera-retro"></i>Gerenciar Fotos</h3>
                <div class="form-container">
                    <form id="photoUploadForm">
                        <h4>Passo 1: Enviar Nova Foto</h4>
                        <label for="photoFile">Arquivo da Foto:</label>
                        <input type="file" id="photoFile" name="foto" accept="image/*" required>
                        <label for="photoDescription">Descrição (opcional):</label>
                        <input type="text" id="photoDescription" name="descricao" placeholder="Ex: Foto na mesa do bolo">
                        <button type="submit" class="btn">Enviar Foto</button>
                    </form>
                    <form id="photoTagForm" style="display: none;">
                        <h4>Passo 2: Etiquetar Convidados</h4>
                        <img id="uploadedPhotoPreview" src="" alt="Preview" />
                        <input type="hidden" id="photoId" name="fotoId">
                        <label for="guestTags">Selecione os convidados:</label>
                        <select id="guestTags" name="convidadosIds" multiple required></select>
                        <p class="modal-subtitle">Segure Ctrl/Cmd para selecionar mais de um.</p>
                        <button type="submit" class="btn">Salvar Etiquetas</button>
                    </form>
                </div>
            </section>
        </div>

        <section class="guest-list-section">
            <div class="section-header">
                <h2>Lista de Presenças Confirmadas</h2>
                <button id="exportBtn" class="btn btn-secondary">Exportar para Excel/CSV</button>
            </div>
            <table class="guest-table">
                <thead>
                    <tr>
                        <th>Nome do Convidado</th>
                        <th>Telefone</th>
                        <th>Presente Escolhido</th>
                        <th>Data da Confirmação</th>
                    </tr>
                </thead>
                <tbody id="guestListBody"></tbody>
            </table>
        </section>

        <section class="donations-list-section">
            <h2>Contribuições (PIX e Lua de Mel)</h2>
            <table class="guest-table">
                <thead>
                    <tr>
                        <th>Convidado</th>
                        <th>Tipo</th>
                        <th>Valor (R$)</th>
                        <th>Data</th>
                        <th>Comprovante</th>
                        <th>Status</th>
                        <th>Ação</th>
                    </tr>
                </thead>
                <tbody id="donationsListBody"></tbody>
            </table>
        </section>

         <footer class="footer">
            <p>© 2025 Steffany & Walci. Todos os direitos reservados.</p>
        </footer>
    </div>
    <script src="admin.js"></script>
</body>
</html>