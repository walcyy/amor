<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Painel dos Noivos - Steffany & Walci</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container admin-container">
        <header class="header">
            <a href="index.html" class="btn btn-secondary btn-back">Voltar ao Convite</a>
            <h1>Painel dos Noivos</h1>
        </header>

        <section class="dashboard-section">
            <div class="stat-card">
                <h4>Convidados Confirmados</h4>
                <p id="statConvidados">0</p>
            </div>
            <div class="stat-card">
                <h4>Presentes Físicos Ganhos</h4>
                <p id="statPresentes">0</p>
            </div>
            <div class="stat-card">
                <h4>Contribuições Recebidas</h4>
                <p id="statQtdDoacoes">0</p>
            </div>
            <div class="stat-card">
                <h4>Valor Total Arrecadado</h4>
                <p>R$ <span id="statValorDoacoes">0,00</span></p>
            </div>
        </section>

        <section class="photo-management-section">
            <h2>Gerenciar Fotos dos Convidados</h2>
            <div class="form-container">
                <form id="photoUploadForm">
                    <h3>Passo 1: Enviar Nova Foto</h3>
                    <label for="photoFile">Arquivo da Foto:</label>
                    <input type="file" id="photoFile" name="foto" accept="image/*" required>
                    <label for="photoDescription">Descrição (opcional):</label>
                    <input type="text" id="photoDescription" name="descricao" placeholder="Ex: Foto na mesa do bolo">
                    <button type="submit" class="btn">Enviar Foto</button>
                </form>
                <form id="photoTagForm" style="display: none;">
                    <h3>Passo 2: Etiquetar Convidados na Foto</h3>
                    <img id="uploadedPhotoPreview" src="" alt="Preview da Foto" />
                    <input type="hidden" id="photoId" name="fotoId">
                    <label for="guestTags">Selecione os convidados presentes na foto:</label>
                    <select id="guestTags" name="convidadosIds" multiple required></select>
                    <p class="modal-subtitle">Segure Ctrl (ou Cmd no Mac) para selecionar mais de um.</p>
                    <button type="submit" class="btn">Salvar Etiquetas</button>
                </form>
            </div>
        </section>

        <section class="guest-list-section">
            <div class="section-header">
                <h2>Lista de Presenças Confirmadas</h2>
                <button id="exportBtn" class="btn btn-secondary">Exportar para Excel (CSV)</button>
            </div>
            <table class="guest-table">
                <thead>
                    <tr>
                        <th>Nome do Convidado</th>
                        <th>Telefone</th>
                        <th>Presente Físico Escolhido</th>
                        <th>Data da Confirmação</th>
                    </tr>
                </thead>
                <tbody id="guestListBody"></tbody>
            </table>
        </section>

        <section class="donations-list-section">
            <h2>Contribuições Financeiras (PIX e Cotas)</h2>
            <table class="guest-table">
                <thead>
                    <tr>
                        <th>Convidado</th>
                        <th>Tipo</th>
                        <th>Valor (R$)</th>
                        <th>Data</th>
                        <th>Comprovante</th>
                    </tr>
                </thead>
                <tbody id="donationsListBody"></tbody>
            </table>
        </section>

         <footer class="footer">
            <p>© 2025 Steffany & Walci. Todos os direitos reservados.</p>
        </footer>
    </div>
    <script src="admin.js"></script>
</body>
</html>